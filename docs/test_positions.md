# テスト用局面

## １番価値の高い駒を取るか？

```plaintext
先手：きふわらべ。後手：人。
１手読み。

3+pk+p3/3+p+p+p3/1rbgsnlp1/1+P2+P2+P1/9/4+s+n+l+p1/3PPPPP1/9/4K4 b RBGSNLP2gsnl2p 1

[ next 1 move(s) | black | repetition - ]

飛 角 金 銀 桂 香 歩
 0  0  2  1  1  1  2
 -  -  -  -  -  - --

  9   8   7   6   5   4   3   2   1
+---+---+---+---+---+---+---+---+---+
|   |   |   |vと|v玉|vと|   |   |   | 一
+---+---+---+---+---+---+---+---+---+
|   |   |   |vと|vと|vと|   |   |   | 二
+---+---+---+---+---+---+---+---+---+
|   |v飛|v角|v金|v銀|v桂|v香|v歩|   | 三
+---+---+---+---+---+---+---+---+---+
|   | と|   |   | と|   |   | と|   | 四
+---+---+---+---+---+---+---+---+---+
|   |   |   |   |   |   |   |   |   | 五
+---+---+---+---+---+---+---+---+---+
|   |   |   |   |v全|v圭|v杏|vと|   | 六
+---+---+---+---+---+---+---+---+---+
|   |   |   | 歩| 歩| 歩| 歩| 歩|   | 七
+---+---+---+---+---+---+---+---+---+
|   |   |   |   |   |   |   |   |   | 八
+---+---+---+---+---+---+---+---+---+
|   |   |   |   | 玉|   |   |   |   | 九
+---+---+---+---+---+---+---+---+---+

                 飛 角 金 銀 桂 香 歩
                  1  1  1  1  1  1  1
                  -  -  -  -  -  - --
```


## 取返しを考慮できるか？

```plaintext
先手：きふわらべ。後手：人。
2手読み。

1s2k2l1/p1p1p2l1/4P2L1/1N7/3p1p1g1/1p1r1s1p1/1g1G1P2B/1R7/4K4 b bg2s3nl9p 1

[ next 1 move(s) | black | repetition - ]

飛 角 金 銀 桂 香 歩
 0  1  1  2  3  1  9
 -  -  -  -  -  - --

  9   8   7   6   5   4   3   2   1
+---+---+---+---+---+---+---+---+---+
|   |v銀|   |   |v玉|   |   |v香|   | 一
+---+---+---+---+---+---+---+---+---+
|v歩|   |v歩|   |v歩|   |   |v香|   | 二
+---+---+---+---+---+---+---+---+---+
|   |   |   |   | 歩|   |   | 香|   | 三
+---+---+---+---+---+---+---+---+---+
|   | 桂|   |   |   |   |   |   |   | 四
+---+---+---+---+---+---+---+---+---+
|   |   |   |v歩|   |v歩|   |v金|   | 五
+---+---+---+---+---+---+---+---+---+
|   |v歩|   |v飛|   |v銀|   |v歩|   | 六
+---+---+---+---+---+---+---+---+---+
|   |v金|   | 金|   | 歩|   |   | 角| 七
+---+---+---+---+---+---+---+---+---+
|   | 飛|   |   |   |   |   |   |   | 八
+---+---+---+---+---+---+---+---+---+
|   |   |   |   | 玉|   |   |   |   | 九
+---+---+---+---+---+---+---+---+---+

                 飛 角 金 銀 桂 香 歩
                  0  0  0  0  0  0  0
                  -  -  -  -  -  - --
```


## 角キックを止めるか？

```plaintext
先手：きふわらべ。後手：人。
2手読み、3手読みの両方でテスト。

4k4/7b1/6p2/9/9/9/9/1B7/4K4 b 2r4g4s4n4l17p 1

[ next 1 move(s) | black | repetition - ]

飛 角 金 銀 桂 香 歩
 2  0  4  4  4  4 17
 -  -  -  -  -  - --

  9   8   7   6   5   4   3   2   1
+---+---+---+---+---+---+---+---+---+
|   |   |   |   |v玉|   |   |   |   | 一
+---+---+---+---+---+---+---+---+---+
|   |   |   |   |   |   |   |v角|   | 二
+---+---+---+---+---+---+---+---+---+
|   |   |   |   |   |   |v歩|   |   | 三
+---+---+---+---+---+---+---+---+---+
|   |   |   |   |   |   |   |   |   | 四
+---+---+---+---+---+---+---+---+---+
|   |   |   |   |   |   |   |   |   | 五
+---+---+---+---+---+---+---+---+---+
|   |   |   |   |   |   |   |   |   | 六
+---+---+---+---+---+---+---+---+---+
|   |   |   |   |   |   |   |   |   | 七
+---+---+---+---+---+---+---+---+---+
|   | 角|   |   |   |   |   |   |   | 八
+---+---+---+---+---+---+---+---+---+
|   |   |   |   | 玉|   |   |   |   | 九
+---+---+---+---+---+---+---+---+---+

                 飛 角 金 銀 桂 香 歩
                  0  0  0  0  0  0  0
                  -  -  -  -  -  - --
```


## 利きのないところに駒を打てるか？

```plaintext
先手：きふわらべ。後手：人。
2手読み。

+p2+p2+p1k/9/1+p2+p2+p1/9/2+p2+p2+p/9/+p2+p2+p2/8+p/K1+p2+p3 b 2R2B4G4S4N4L3P 1

[ next 1 move(s) | black | repetition - ]

飛 角 金 銀 桂 香 歩
 0  0  0  0  0  0  0
 -  -  -  -  -  - --

  9   8   7   6   5   4   3   2   1
+---+---+---+---+---+---+---+---+---+
|vと|   |   |vと|   |   |vと|   |v玉| 一
+---+---+---+---+---+---+---+---+---+
|   |   |   |   |   |   |   |   |   | 二
+---+---+---+---+---+---+---+---+---+
|   |vと|   |   |vと|   |   |vと|   | 三
+---+---+---+---+---+---+---+---+---+
|   |   |   |   |   |   |   |   |   | 四
+---+---+---+---+---+---+---+---+---+
|   |   |vと|   |   |vと|   |   |vと| 五
+---+---+---+---+---+---+---+---+---+
|   |   |   |   |   |   |   |   |   | 六
+---+---+---+---+---+---+---+---+---+
|vと|   |   |vと|   |   |vと|   |   | 七
+---+---+---+---+---+---+---+---+---+
|   |   |   |   |   |   |   |   |vと| 八
+---+---+---+---+---+---+---+---+---+
| 玉|   |vと|   |   |vと|   |   |   | 九
+---+---+---+---+---+---+---+---+---+

                 飛 角 金 銀 桂 香 歩
                  2  2  4  4  4  4  3
                  -  -  -  -  -  - --
```


## ベータカット壊れてないかテスト


```plaintext
●失敗：０手読み
●成功：１手、２手、３手、５手、７手読み
先手：きふわらべ。後手：人。
3kl4/9/9/9/4p4/4P4/9/9/4LK3 b 2r2b4g4s4n2l16p 1

[ next 1 move(s) | black | repetition - ]

飛 角 金 銀 桂 香 歩
 2  2  4  4  4  2 16
 -  -  -  -  -  - --

  9   8   7   6   5   4   3   2   1
+---+---+---+---+---+---+---+---+---+
|   |   |   |v玉|v香|   |   |   |   | 一
+---+---+---+---+---+---+---+---+---+
|   |   |   |   |   |   |   |   |   | 二
+---+---+---+---+---+---+---+---+---+
|   |   |   |   |   |   |   |   |   | 三
+---+---+---+---+---+---+---+---+---+
|   |   |   |   |   |   |   |   |   | 四
+---+---+---+---+---+---+---+---+---+
|   |   |   |   |v歩|   |   |   |   | 五
+---+---+---+---+---+---+---+---+---+
|   |   |   |   | 歩|   |   |   |   | 六
+---+---+---+---+---+---+---+---+---+
|   |   |   |   |   |   |   |   |   | 七
+---+---+---+---+---+---+---+---+---+
|   |   |   |   |   |   |   |   |   | 八
+---+---+---+---+---+---+---+---+---+
|   |   |   |   | 香| 玉|   |   |   | 九
+---+---+---+---+---+---+---+---+---+

                 飛 角 金 銀 桂 香 歩
                  0  0  0  0  0  0  0
                  -  -  -  -  -  - --
```


```plaintext
●所感：１軸の線上での駒のぶつかり合いなら、１手読みでもできる。
●成功：１手読み
先手：きふわらべ。後手：人。
3kl4/4l4/9/9/4p4/4P4/9/4L4/4LK3 b 2r2b4g4s4n16p 1

[ next 1 move(s) | black | repetition - ]

飛 角 金 銀 桂 香 歩
 2  2  4  4  4  0 16
 -  -  -  -  -  - --

  9   8   7   6   5   4   3   2   1
+---+---+---+---+---+---+---+---+---+
|   |   |   |v玉|v香|   |   |   |   | 一
+---+---+---+---+---+---+---+---+---+
|   |   |   |   |v香|   |   |   |   | 二
+---+---+---+---+---+---+---+---+---+
|   |   |   |   |   |   |   |   |   | 三
+---+---+---+---+---+---+---+---+---+
|   |   |   |   |   |   |   |   |   | 四
+---+---+---+---+---+---+---+---+---+
|   |   |   |   |v歩|   |   |   |   | 五
+---+---+---+---+---+---+---+---+---+
|   |   |   |   | 歩|   |   |   |   | 六
+---+---+---+---+---+---+---+---+---+
|   |   |   |   |   |   |   |   |   | 七
+---+---+---+---+---+---+---+---+---+
|   |   |   |   | 香|   |   |   |   | 八
+---+---+---+---+---+---+---+---+---+
|   |   |   |   | 香| 玉|   |   |   | 九
+---+---+---+---+---+---+---+---+---+

                 飛 角 金 銀 桂 香 歩
                  0  0  0  0  0  0  0
                  -  -  -  -  -  - --
```


```plaintext
●意図：弱い駒を使って取りに来てほしい。
●失敗：１手読み - 強い駒で取りに来てしまう。
先手：きふわらべ。後手：人。
１７手読みテスト。
    b2kl4/4l4/3n1n3/3s1g3/r3p3R/3GPS3/3N1N3/4L4/4LK2B b 2g2s16p 1
修正版：
    b2kl2+p1/4l4/3n1n3/3s1g3/r3p3R/3GPS3/3N1N3/4L4/1+P2LK2B b 2g2s14p 1

[ next 1 move(s) | black | repetition - ]

飛 角 金 銀 桂 香 歩
 0  0  2  2  0  0 16
 -  -  -  -  -  - --

  9   8   7   6   5   4   3   2   1
+---+---+---+---+---+---+---+---+---+
|v角|   |   |v玉|v香|   |   |   |   | 一
+---+---+---+---+---+---+---+---+---+
|   |   |   |   |v香|   |   |   |   | 二
+---+---+---+---+---+---+---+---+---+
|   |   |   |v桂|   |v桂|   |   |   | 三
+---+---+---+---+---+---+---+---+---+
|   |   |   |v銀|   |v金|   |   |   | 四
+---+---+---+---+---+---+---+---+---+
|v飛|   |   |   |v歩|   |   |   | 飛| 五
+---+---+---+---+---+---+---+---+---+
|   |   |   | 金| 歩| 銀|   |   |   | 六
+---+---+---+---+---+---+---+---+---+
|   |   |   | 桂|   | 桂|   |   |   | 七
+---+---+---+---+---+---+---+---+---+
|   |   |   |   | 香|   |   |   |   | 八
+---+---+---+---+---+---+---+---+---+
|   |   |   |   | 香| 玉|   |   | 角| 九
+---+---+---+---+---+---+---+---+---+

                 飛 角 金 銀 桂 香 歩
                  0  0  0  0  0  0  0
                  -  -  -  -  -  - --


[ next 1 move(s) | black | repetition - ]

飛 角 金 銀 桂 香 歩
 0  0  2  2  0  0 14
 -  -  -  -  -  - --

  9   8   7   6   5   4   3   2   1
+---+---+---+---+---+---+---+---+---+
|v角|   |   |v玉|v香|   |   |vと|   | 一
+---+---+---+---+---+---+---+---+---+
|   |   |   |   |v香|   |   |   |   | 二
+---+---+---+---+---+---+---+---+---+
|   |   |   |v桂|   |v桂|   |   |   | 三
+---+---+---+---+---+---+---+---+---+
|   |   |   |v銀|   |v金|   |   |   | 四
+---+---+---+---+---+---+---+---+---+
|v飛|   |   |   |v歩|   |   |   | 飛| 五
+---+---+---+---+---+---+---+---+---+
|   |   |   | 金| 歩| 銀|   |   |   | 六
+---+---+---+---+---+---+---+---+---+
|   |   |   | 桂|   | 桂|   |   |   | 七
+---+---+---+---+---+---+---+---+---+
|   |   |   |   | 香|   |   |   |   | 八
+---+---+---+---+---+---+---+---+---+
|   | と|   |   | 香| 玉|   |   | 角| 九
+---+---+---+---+---+---+---+---+---+

                 飛 角 金 銀 桂 香 歩
                  0  0  0  0  0  0  0
                  -  -  -  -  -  - --
```


```plaintext
【没】
先手：きふわらべ。後手：人。
3kl4/9/3n1n3/5s3/4p4/3SPG3/3N1N3/9/4LK3 b 2r2b3g2s2l16p 1

[ next 1 move(s) | black | repetition - ]

飛 角 金 銀 桂 香 歩
 2  2  3  2  0  2 16
 -  -  -  -  -  - --

  9   8   7   6   5   4   3   2   1
+---+---+---+---+---+---+---+---+---+
|   |   |   |v玉|v香|   |   |   |   | 一
+---+---+---+---+---+---+---+---+---+
|   |   |   |   |   |   |   |   |   | 二
+---+---+---+---+---+---+---+---+---+
|   |   |   |v桂|   |v桂|   |   |   | 三
+---+---+---+---+---+---+---+---+---+
|   |   |   |   |   |v銀|   |   |   | 四
+---+---+---+---+---+---+---+---+---+
|   |   |   |   |v歩|   |   |   |   | 五
+---+---+---+---+---+---+---+---+---+
|   |   |   | 銀| 歩| 金|   |   |   | 六
+---+---+---+---+---+---+---+---+---+
|   |   |   | 桂|   | 桂|   |   |   | 七
+---+---+---+---+---+---+---+---+---+
|   |   |   |   |   |   |   |   |   | 八
+---+---+---+---+---+---+---+---+---+
|   |   |   |   | 香| 玉|   |   |   | 九
+---+---+---+---+---+---+---+---+---+

                 飛 角 金 銀 桂 香 歩
                  0  0  0  0  0  0  0
                  -  -  -  -  -  - --
```


```plaintext
【没】
先手：きふわらべ。後手：人。
3kl4/9/3n1n3/3g1s3/4p4/3SPG3/3N1N3/9/4LK2B b 2rb2g2s2l16p 1

[ next 1 move(s) | black | repetition - ]

飛 角 金 銀 桂 香 歩
 2  1  2  2  0  2 16
 -  -  -  -  -  - --

  9   8   7   6   5   4   3   2   1
+---+---+---+---+---+---+---+---+---+
|   |   |   |v玉|v香|   |   |   |   | 一
+---+---+---+---+---+---+---+---+---+
|   |   |   |   |   |   |   |   |   | 二
+---+---+---+---+---+---+---+---+---+
|   |   |   |v桂|   |v桂|   |   |   | 三
+---+---+---+---+---+---+---+---+---+
|   |   |   |v金|   |v銀|   |   |   | 四
+---+---+---+---+---+---+---+---+---+
|   |   |   |   |v歩|   |   |   |   | 五
+---+---+---+---+---+---+---+---+---+
|   |   |   | 銀| 歩| 金|   |   |   | 六
+---+---+---+---+---+---+---+---+---+
|   |   |   | 桂|   | 桂|   |   |   | 七
+---+---+---+---+---+---+---+---+---+
|   |   |   |   |   |   |   |   |   | 八
+---+---+---+---+---+---+---+---+---+
|   |   |   |   | 香| 玉|   |   | 角| 九
+---+---+---+---+---+---+---+---+---+

                 飛 角 金 銀 桂 香 歩
                  0  0  0  0  0  0  0
                  -  -  -  -  -  - --
```


```plaintext
【没】
先手：きふわらべ。後手：人。

b2kl4/9/3n1n3/3g1s3/4p3R/3SPG3/3N1N3/9/4LK2B b r2g2s2l16p 1

[ next 1 move(s) | black | repetition - ]

飛 角 金 銀 桂 香 歩
 1  0  2  2  0  2 16
 -  -  -  -  -  - --

  9   8   7   6   5   4   3   2   1
+---+---+---+---+---+---+---+---+---+
|v角|   |   |v玉|v香|   |   |   |   | 一
+---+---+---+---+---+---+---+---+---+
|   |   |   |   |   |   |   |   |   | 二
+---+---+---+---+---+---+---+---+---+
|   |   |   |v桂|   |v桂|   |   |   | 三
+---+---+---+---+---+---+---+---+---+
|   |   |   |v金|   |v銀|   |   |   | 四
+---+---+---+---+---+---+---+---+---+
|   |   |   |   |v歩|   |   |   | 飛| 五
+---+---+---+---+---+---+---+---+---+
|   |   |   | 銀| 歩| 金|   |   |   | 六
+---+---+---+---+---+---+---+---+---+
|   |   |   | 桂|   | 桂|   |   |   | 七
+---+---+---+---+---+---+---+---+---+
|   |   |   |   |   |   |   |   |   | 八
+---+---+---+---+---+---+---+---+---+
|   |   |   |   | 香| 玉|   |   | 角| 九
+---+---+---+---+---+---+---+---+---+

                 飛 角 金 銀 桂 香 歩
                  0  0  0  0  0  0  0
                  -  -  -  -  -  - --
```

## 一直線取り合いをすると得するパターン

```plaintext
先手：きふわらべ。後手：人。
k8/4l4/4l4/4p4/4g4/4P4/3+PL+P3/2+P+PL+P+P2/1+P+P+PR+P+P+PK b r2b3g4s4n4p 1

[ next 1 move(s) | black | repetition - ]

飛 角 金 銀 桂 香 歩
 1  2  3  4  4  0  4
 -  -  -  -  -  - --

  9   8   7   6   5   4   3   2   1
+---+---+---+---+---+---+---+---+---+
|v玉|   |   |   |   |   |   |   |   | 一
+---+---+---+---+---+---+---+---+---+
|   |   |   |   |v香|   |   |   |   | 二
+---+---+---+---+---+---+---+---+---+
|   |   |   |   |v香|   |   |   |   | 三
+---+---+---+---+---+---+---+---+---+
|   |   |   |   |v歩|   |   |   |   | 四
+---+---+---+---+---+---+---+---+---+
|   |   |   |   |v金|   |   |   |   | 五
+---+---+---+---+---+---+---+---+---+
|   |   |   |   | 歩|   |   |   |   | 六
+---+---+---+---+---+---+---+---+---+
|   |   |   | と| 香| と|   |   |   | 七
+---+---+---+---+---+---+---+---+---+
|   |   | と| と| 香| と| と|   |   | 八
+---+---+---+---+---+---+---+---+---+
|   | と| と| と| 飛| と| と| と| 玉| 九
+---+---+---+---+---+---+---+---+---+

                 飛 角 金 銀 桂 香 歩
                  0  0  0  0  0  0  0
                  -  -  -  -  -  - --
```


## 一直線取り合いをすると損するパターン

```plaintext
先手：きふわらべ。後手：人。

k2+pr+p3/4l4/4l4/4p4/4g4/4P4/4L4/4L4/3+PR+P2K b 2b3g4s4n12p 1
k3r4/4l4/4l4/4p4/4g4/4P4/3+PL+P3/2+P+PL+P+P2/1+P+P+PR+P+P+PK b 2b3g4s4n4p 1

[ next 1 move(s) | black | repetition - ]

飛 角 金 銀 桂 香 歩
 0  2  3  4  4  0 12
 -  -  -  -  -  - --

  9   8   7   6   5   4   3   2   1
+---+---+---+---+---+---+---+---+---+
|v玉|   |   |vと|v飛|vと|   |   |   | 一
+---+---+---+---+---+---+---+---+---+
|   |   |   |   |v香|   |   |   |   | 二
+---+---+---+---+---+---+---+---+---+
|   |   |   |   |v香|   |   |   |   | 三
+---+---+---+---+---+---+---+---+---+
|   |   |   |   |v歩|   |   |   |   | 四
+---+---+---+---+---+---+---+---+---+
|   |   |   |   |v金|   |   |   |   | 五
+---+---+---+---+---+---+---+---+---+
|   |   |   |   | 歩|   |   |   |   | 六
+---+---+---+---+---+---+---+---+---+
|   |   |   |   | 香|   |   |   |   | 七
+---+---+---+---+---+---+---+---+---+
|   |   |   |   | 香|   |   |   |   | 八
+---+---+---+---+---+---+---+---+---+
|   |   |   | と| 飛| と|   |   | 玉| 九
+---+---+---+---+---+---+---+---+---+

                 飛 角 金 銀 桂 香 歩
                  0  0  0  0  0  0  0
                  -  -  -  -  -  - --


[ next 1 move(s) | black | repetition - ]

飛 角 金 銀 桂 香 歩
 0  2  3  4  4  0  4
 -  -  -  -  -  - --

  9   8   7   6   5   4   3   2   1
+---+---+---+---+---+---+---+---+---+
|v玉|   |   |   |v飛|   |   |   |   | 一
+---+---+---+---+---+---+---+---+---+
|   |   |   |   |v香|   |   |   |   | 二
+---+---+---+---+---+---+---+---+---+
|   |   |   |   |v香|   |   |   |   | 三
+---+---+---+---+---+---+---+---+---+
|   |   |   |   |v歩|   |   |   |   | 四
+---+---+---+---+---+---+---+---+---+
|   |   |   |   |v金|   |   |   |   | 五
+---+---+---+---+---+---+---+---+---+
|   |   |   |   | 歩|   |   |   |   | 六
+---+---+---+---+---+---+---+---+---+
|   |   |   | と| 香| と|   |   |   | 七
+---+---+---+---+---+---+---+---+---+
|   |   | と| と| 香| と| と|   |   | 八
+---+---+---+---+---+---+---+---+---+
|   | と| と| と| 飛| と| と| と| 玉| 九
+---+---+---+---+---+---+---+---+---+

                 飛 角 金 銀 桂 香 歩
                  0  0  0  0  0  0  0
                  -  -  -  -  -  - --
```


## 受けろ銀

```plaintext
先手：きふわらべ。後手：人。

6+p+pk/6+p+p+p/6+p+p+p/9/9/9/2+r3+P+P+P/1R4+P+P+P/2B1S1+P+PK b b4g3s4n4l2p 1
```


## 安い駒から交換

```plaintext
先手：きふわらべ。後手：人。

3+pk+p3/3+p+p+p3/4ss3/3ssg3/3ggg3/3P5/2+PNRL1B+P/2+P1LR1+P1/4K4 b b3n2l8p 1

3+pk+p3/2+p+p+p+p3/2+pnssn2/3ssg3/3ggg3/3P5/2+PNRLNB+P/B1+PLLR1+P1/3LK4 b 6p 1

4k4/+p+p+p+p+p+p+p+p+p/9/9/1g1g1g1g1/9/1spsp1ps1/3P5/B1NLKLNRB b rs2n2l5p 1
```


## 持ち駒の番号を調べるテスト

```plaintext
# 先手　歩打
lnsgkgsnl/1r5b1/ppppppppp/9/9/9/1+p7/9/K1+p6 b Prb2g2s2n2l6p 1

```


## 号令［右壁を作るな］が失効する動作確認

```
＜📖出典＞フラッドゲート： http://wdoor.c.u-tokyo.ac.jp/shogi/view/2025/04/22/wdoor+floodgate-300-10F+910+KifuuuuuuwarabeBeginning+20250422223012.csa

position startpos moves 2g2f 3c3d 7g7f 2b3c 2f2e 8b1b 8h3c+ 2a3c B*6e B*5d 6e8c+ 5d7f 7i7h 3a3b 8c5f 3d3e 2e2d 2c2d 5f1b 1a1b R*2b B*2c 2h2d P*2a 2b2c+ 3b2c 2d2c+ R*2b 2c2b 2a2b R*8f P*8e 8f7f 4a3b S*2a R*7b 7f7e 7c7d 7e8e
all_backwards_plot_models_at_first len=29
QS_select_length=2
length_by_kifuwarabe=1
Best move=7d7e
[ next 40 move(s) | white | repetition - ]

飛 角 金 銀 桂 香 歩
 0  0  0  0  0  0  0
 -  -  -  -  -  - --

  9   8   7   6   5   4   3   2   1
+---+---+---+---+---+---+---+---+---+
|v猪|v兎|v猫|v犬|v獅| 　| 　| 銀| 　| 一
+---+---+---+---+---+---+---+---+---+
| 　| 　|v麒| 　| 　| 　|v犬|vひ|v猪| 二
+---+---+---+---+---+---+---+---+---+
|vひ| 　| 　|vひ|vひ|vひ|v兎| 　|vひ| 三
+---+---+---+---+---+---+---+---+---+
| 　| 　|vひ| 　| 　| 　| 　| 　| 　| 四
+---+---+---+---+---+---+---+---+---+
| 　| 飛| 　| 　| 　| 　|vひ| 　| 　| 五
+---+---+---+---+---+---+---+---+---+
| 　| 　| 　| 　| 　| 　| 　| 　| 　| 六
+---+---+---+---+---+---+---+---+---+
| 歩| 歩| 　| 歩| 歩| 歩| 歩| 　| 歩| 七
+---+---+---+---+---+---+---+---+---+
| 　| 　| 銀| 　| 　| 　| 　| 　| 　| 八
+---+---+---+---+---+---+---+---+---+
| 香| 桂| 　| 金| 玉| 金| 銀| 桂| 香| 九
+---+---+---+---+---+---+---+---+---+

                 飛 角 金 銀 桂 香 歩
                  0  2  0  0  0  0  3
                  -  -  -  -  -  - -- 
```


## 号令［頭がの丸い駒の頭のヒヨコを突くな］

* テストするときはコンフィグ・ファイルから対象外のルールを消すこと。

```
先手：きふわらべ　後手：人
4k4/9/9/9/9/9/PPPPPPPPP/1NNB1BNN1/4K4 b 2r4g4s4l9p 1
```


## 一手詰まされ

* [x] 一手詰まされ、自分と相手で逆か？ → 修正

```
［８二銀打］の一手詰めの状況。

後手：きふわらべ　先手：人

position startpos moves 7g7f 3c3d 8h2b+ 8b2b 7i8h 4c4d 8h7g 2a3c 6i7h 3a4b 2g2f 4a3b 2f2e 3b4c 3i3h 5a6b 5i6h 7a7b 6h7i 4b5a 4i5h 6b7a 6g6f 7a8b 5h6g 6c6d 3g3f 9c9d 3h3g 9a9b 3g4f 5c5d 3f3e 2b4b 3e3d 4c3d 2i3g 4b4c 1g1f 5a5b 1f1e 8a9c 9g9f 4d4e 4f4e 3c4e B*4h 7c7d 9f9e 4e3g+ 4h3g 4c4g+ 3g6d 7b7c 6d7c+ 8b7a 9e9d
board
[ next 58 move(s) | white | repetition - ]

飛 角 金 銀 桂 香 歩
 0  1  0  1  1  0  2
 -  -  -  -  -  - --

  9   8   7   6   5   4   3   2   1
+---+---+---+---+---+---+---+---+---+
| 　| 　|vら|vい| 　| 　| 　| 　|vし| 一
+---+---+---+---+---+---+---+---+---+
|vし| 　| 　| 　|vね| 　| 　| 　| 　| 二
+---+---+---+---+---+---+---+---+---+
|vう|vひ| 馬| 　| 　| 　| 　|vひ|vひ| 三
+---+---+---+---+---+---+---+---+---+
| 歩| 　|vひ| 　|vひ| 　|vい| 　| 　| 四
+---+---+---+---+---+---+---+---+---+
| 　| 　| 　| 　| 　| 　| 　| 歩| 歩| 五
+---+---+---+---+---+---+---+---+---+
| 　| 　| 歩| 歩| 　| 　| 　| 　| 　| 六
+---+---+---+---+---+---+---+---+---+
| 　| 歩| 銀| 金| 歩|vキ| 　| 　| 　| 七
+---+---+---+---+---+---+---+---+---+
| 　| 　| 金| 　| 　| 　| 　| 飛| 　| 八
+---+---+---+---+---+---+---+---+---+
| 香| 桂| 玉| 　| 　| 　| 　| 　| 香| 九
+---+---+---+---+---+---+---+---+---+

                 飛 角 金 銀 桂 香 歩
                  0  0  0  1  1  0  4
                  -  -  -  -  -  - --
```
